module_id: ocr_escalate_gpt4v_v1
stage: adapter
entrypoint: modules/adapter/ocr_escalate_gpt4v_v1/main.py
input_schema: pagelines_v1
output_schema: adapter_out
default_params:
  threshold: 0.8
  max_pages: 10
  budget_pages: null
  model: gpt-4.1
  prompt_file: prompts/ocr_page_gpt4v.md
  dry_run: false
param_schema:
  properties:
    index:
      type: string
    quality:
      type: string
    images_dir:
      type: string
    outdir:
      type: string
    threshold:
      type: number
      minimum: 0
      maximum: 1
    max_pages:
      type: integer
      minimum: 1
    budget_pages:
      type: integer
      minimum: 1
    model:
      type: string
    prompt_file:
      type: string
    dry_run:
      type: boolean
  required: [threshold, max_pages, model]
notes: "Escalate high-disagreement pages via GPT-4V transcription and rewrite PageLines." 
