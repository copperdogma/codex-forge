module_id: extract_choices_relaxed_v1
stage: extract
entrypoint: modules/extract/extract_choices_relaxed_v1/main.py
input_schema: enriched_portion_v1
output_schema: enriched_portion_v1
default_params:
  use_ai_validation: false
  max_ai_calls: 50
  confidence_threshold: 0.8
param_schema:
  properties:
    use_ai_validation:
      type: boolean
      description: "Use AI to validate ambiguous pattern matches (default: false)"
    max_ai_calls:
      type: integer
      description: "Maximum AI validation calls if enabled (default: 50)"
    confidence_threshold:
      type: number
      description: "Minimum confidence for pattern match (default: 0.8)"
  required: []
notes: "Code-first choice extraction with a relaxed reference scan. Uses strict patterns for choices and a secondary relaxed pass over HTML-stripped text to surface missed references and orphan candidates without altering primary choices."




