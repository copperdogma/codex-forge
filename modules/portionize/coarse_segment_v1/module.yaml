module_id: coarse_segment_v1
stage: portionize
entrypoint: modules/portionize/coarse_segment_v1/main.py
input_schema: element_core_v1
output_schema: coarse_segments_v1
description: Coarse segmenter (LLM-first) - classifies frontmatter/gameplay/endmatter page ranges from compact element summaries.
default_params:
  model: gpt-4.1-mini
  max_lines: 10
  max_len: 120
  max_retries: 2
param_schema:
  properties:
    elements:
      type: string
    pages:
      type: string
      description: Alias for elements (driver compatibility)
    out:
      type: string
    model:
      type: string
    retry_model:
      type: string
    max_lines:
      type: integer
    max_len:
      type: integer
    prompt:
      type: string
    max_retries:
      type: integer
  required: [elements, out]

