module_id: coarse_segment_html_v1
stage: portionize
entrypoint: modules/portionize/coarse_segment_html_v1/main.py
input_schema: page_html_blocks_v1
output_schema: coarse_segments_v1
default_params:
  model: gpt-5.1
  retry_model: gpt-5.1
  max_retries: 2
  max_blocks: 8
  max_len: 120
param_schema:
  properties:
    model:
      type: string
    retry_model:
      type: string
    max_retries:
      type: integer
      minimum: 0
    max_blocks:
      type: integer
      minimum: 1
    max_len:
      type: integer
      minimum: 20
    prompt:
      type: string
  required: [model]
notes: "Coarse segmentation over HTML block streams (frontmatter/gameplay/endmatter)."
